<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project Tracker Dashboard</title>
  <style>
    body { font-family: sans-serif; margin: 2em; }
    button { margin: 0.5em; }
    textarea { width: 100%; height: 5em; }
  </style>
</head>
<body>
  <h1>Project Tracker Dashboard</h1>
  <button onclick="exportData()">Export Data</button>
  <button onclick="importData()">Import Data</button>
  <div id="issues"></div>
  <button onclick="addIssuePrompt()">Add Issue</button>
  <script>
    // LocalStorage-based project tracker
    let issues = JSON.parse(localStorage.getItem('issues')) || [];
    let botReleaseDate = localStorage.getItem('botReleaseDate') || '2025-09-30';

    const saveData = () => {
      localStorage.setItem('issues', JSON.stringify(issues));
      localStorage.setItem('botReleaseDate', botReleaseDate);
      renderAll();
    };

    const addIssuePrompt = () => {
      const title = prompt('Issue title?');
      if (title) addIssue({ title, status: 'open' });
    };

    const addIssue = (issue) => {
      issues.push({ ...issue, id: `issue-${Date.now()}` });
      saveData();
    };

    const updateIssue = (id, updates) => {
      issues = issues.map(issue => issue.id === id ? { ...issue, ...updates } : issue);
      saveData();
    };

    const renderAll = () => {
      document.getElementById('issues').innerHTML = issues.map(issue =>
        `<div>
          <strong>${issue.title}</strong> [${issue.status}]
          <button onclick="updateIssue('${issue.id}', {status:'closed'})">Close</button>
        </div>`
      ).join('') || '<em>No issues yet.</em>';
    };

    // Export/Import functions
    const exportData = () => {
      const data = { issues, botReleaseDate, timestamp: new Date().toISOString() };
      const json = JSON.stringify(data);
      const blob = new Blob([json], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `project-data-${new Date().toISOString()}.json`;
      a.click();
    };

    const importData = () => {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'application/json';
      input.onchange = e => {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = (event) => {
          const data = JSON.parse(event.target.result);
          issues = data.issues || [];
          botReleaseDate = data.botReleaseDate || '2025-09-30';
          saveData();
        };
        reader.readAsText(file);
      };
      input.click();
    };

    // Initial render
    document.addEventListener('DOMContentLoaded', renderAll);
  </script>
</body>
</html>
